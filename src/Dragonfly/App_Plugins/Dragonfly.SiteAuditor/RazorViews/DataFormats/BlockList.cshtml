@using Newtonsoft.Json;
@using Newtonsoft.Json.Linq
@using Umbraco.Cms.Core.Models.Blocks
@inherits UmbracoViewPage<IProperty>

@{
	var value = Model.GetValue(); //Should be a blocklist content JSON string

	if (value != null)
	{
		var json = value.ToString();

		@*		var blModel = JsonConvert.DeserializeObject<BlockListModel>(value.ToString());
			var counter = 1;
			if (blModel!=null)
			{
			// <ol>
					@foreach (var item in blModel)
					{
						string name = counter.ToString();// (string)item["name"];
						var data = item.
		counter++;

						// <li>
						// 	<span>@name</span>
						// 	<textarea rows="2" cols="60">@json</textarea>
						// </li>

					}
			 //</ol>
			}*@


		@*JsonTextReader reader = new JsonTextReader(new StringReader(json));
			while (reader.Read())
			{
			if (reader.Value != null)
			{
			Console.WriteLine("Token: {0}, Value: {1}", reader.TokenType, reader.Value);
			}
			else
			{
			Console.WriteLine("Token: {0}", reader.TokenType);
			}
			}*@

		<textarea rows="3" cols="100">@json</textarea>
	}
	else
	{
		<i>(No items added)</i>
	}
}

@functions
{
	class BlockData
	{

	}
}
